(this.webpackJsonppart2=this.webpackJsonppart2||[]).push([[0],{40:function(t,e,n){"use strict";n.r(e);var o=n(6),c=n(4),r=n(0),i=n(2),a=n.n(i),s=n(16),l=n.n(s),j=(n(7),function(t){var e=t.note,n=t.toggleImportance,o=e.important?"make not important":"make important";return Object(r.jsxs)("li",{className:"note",children:[e.content,Object(r.jsx)("button",{className:"btnImportant",onClick:n,children:o})]})}),u=n(3),d=n.n(u),b=function(){return d.a.get("/api/notes").then((function(t){return t.data}))},p="/api/notes",m=[{id:1,content:"HTML is esay (old)",date:"2019-05-30T17:30:31.098Z",important:!0},{id:2,content:"Browser can execute only JavaScript (old)",date:"2019-05-30T18:39:34.091Z",important:!1},{id:3,content:"GET and POST are the most important methods of HTTP protocol (old)",date:"2019-05-30T19:20:14.298Z",important:!0}],f=function(t){var e=t.note;t.toggleImportance;return Object(r.jsx)("li",{children:e.content})},h=function(){return Object(r.jsxs)("div",{style:{color:"green",fontStyle:"italic",fontSize:16},children:[Object(r.jsx)("br",{}),Object(r.jsx)("em",{children:"Note app, Department of Computer Science, University of Helsinki 2020"})]})},O=function(t){var e=Object(i.useState)(t.oldNotes),n=Object(c.a)(e,2),a=n[0],s=(n[1],Object(i.useState)([])),l=Object(c.a)(s,2),u=l[0],m=l[1],O=Object(i.useState)("a new note..."),x=Object(c.a)(O,2),g=x[0],v=x[1],S=Object(i.useState)(!0),k=Object(c.a)(S,2),w=k[0],T=k[1];console.log("render",u.length,"notes: ",u),Object(i.useEffect)((function(){console.log("effect"),b().then((function(t){console.log("promise fulfilled"),m(t)}))}),[]);var y=w?u:u.filter((function(t){return!0===t.important}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"Notes"}),Object(r.jsx)("p",{children:"Very first version:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:a[0].content}),Object(r.jsx)("li",{children:a[1].content}),Object(r.jsx)("li",{children:a[2].content})]}),Object(r.jsx)("p",{children:"Second version using map (here 'show all/important' does not work):"}),Object(r.jsx)("ul",{children:u.map((function(t){return Object(r.jsx)("li",{children:t.content},t.id)}))}),Object(r.jsx)("div",{children:Object(r.jsxs)("button",{onClick:function(){return T(!w)},children:["show ",w?"important":"all"]})}),Object(r.jsx)("p",{children:"Third version refactoring Note in a separate component:"}),Object(r.jsx)("ul",{children:y.map((function(t){return Object(r.jsx)(f,{note:t},t.id)}))}),Object(r.jsx)("p",{children:"Fourth version uses Note as an external module:"}),Object(r.jsx)("ul",{children:y.map((function(t){return Object(r.jsx)(j,{note:t,toggleImportance:function(){return function(t){console.log("importance of "+t+" needs to be toggled"),console.log("importance of ".concat(t," needs to be toogled"));var e="".concat(p,"/").concat(t),n=u.find((function(e){return e.id===t})),c=Object(o.a)(Object(o.a)({},n),{},{important:!n.important});d.a.put(e,c).then((function(e){m(u.map((function(n){return n.id!==t?n:e.data})))}))}(t.id)}},t.id)}))}),Object(r.jsx)("h1",{children:"Form"}),Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),console.log("button clicked",t.target);var e={content:g,date:(new Date).toISOString(),important:Math.random()<.5};d.a.post(p,e).then((function(t){console.log(t),m(u.concat(t.data)),v("a new note...")}))},children:[Object(r.jsx)("input",{value:g,onChange:function(t){console.log(t.target.value),v(t.target.value)}}),Object(r.jsx)("button",{type:"submit",children:"save"})]}),Object(r.jsx)(h,{})]})};l.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(O,{oldNotes:m})}),document.getElementById("root"));var x=m.map((function(t){return t.id}));console.log("result of map: ",x)},7:function(t,e,n){}},[[40,1,2]]]);
//# sourceMappingURL=main.c67c3f01.chunk.js.map